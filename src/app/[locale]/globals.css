@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --background-image-gradient-radial: radial-gradient(var(--tw-gradient-stops));
  --background-image-gradient-conic: conic-gradient(
    from 180deg at 50% 50%,
    var(--tw-gradient-stops)
  );
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@utility nav-link {
  /* Navigation links */
  @apply text-foreground/80 hover:text-primary transition-colors relative;

  &::after {
    content: '';
    @apply absolute left-0 right-0 bottom-0 h-0.5 bg-primary scale-x-0 transition-transform duration-300 ease-out origin-bottom-right;
  }

  &:hover::after {
    @apply scale-x-100 origin-bottom-left;
  }
}

@utility nav-link-active {
  @apply text-primary font-medium relative;

  &::after {
    content: '';
    @apply absolute left-0 right-0 bottom-0 h-0.5 bg-primary scale-x-100;
  }
}

@utility dropdown-menu {
  /* Dropdown styling */
  @apply border border-border shadow-lg shadow-primary/5 backdrop-blur-xs;
  animation: dropdown-appear 0.2s ease-out forwards;
}

@utility dropdown-bridge {
  @apply absolute w-full h-2 -top-2 left-0 bg-transparent;
}

@utility game-card {
  /* Card styling */
  @apply bg-card border border-border rounded-lg overflow-hidden transition-all duration-300 hover:shadow-lg hover:shadow-primary/10 hover:-translate-y-1;
  background-image: radial-gradient(
    circle at 100% 0%,
    hsla(var(--primary-400) / 0.15) 0%,
    transparent 25%
  );
}

@utility btn-glow {
  /* Button effects */
  @apply relative overflow-hidden;

  &::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/30 to-primary/0 opacity-0 transition-opacity duration-1000;
  }

  &:hover::before {
    @apply opacity-100;
    animation: gradient-shift 1.5s linear infinite;
  }
}

@utility gradient-text {
  /* Gradient text */
  @apply bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent;
  background-size: 200% auto;
  animation: gradient-shift 3s linear infinite;
}

@utility glow-border {
  /* Glowing border */
  @apply border border-primary/50 relative;

  &::after {
    content: '';
    @apply absolute inset-0 rounded-[inherit] border border-primary/50 blur-[2px] opacity-50;
  }
}

@utility animated-bg {
  /* Animated background */
  @apply relative overflow-hidden;
  background: linear-gradient(
    45deg,
    hsla(var(--primary-950) / 0.8) 0%,
    hsla(var(--background) / 1) 100%
  );

  &::before {
    content: '';
    @apply absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,hsla(var(--primary-400)/0.15)_0%,transparent_50%)] opacity-70;
    animation: pulse 8s ease infinite;
  }

  &::after {
    content: '';
    @apply absolute inset-0 bg-[url('/grid.svg')] bg-repeat opacity-10;
  }
}

@layer base {
  :root {
    /* Base radius for rounded corners */
    --radius: 0.5rem;
    
    /* Grid pattern color for backgrounds */
    --grid-color: rgba(172, 139, 255, 0.05);
    
    /* Light theme colors */
    --background: 240 20% 98%;
    --foreground: 260 30% 12%;
    
    --card: 0 0% 100%;
    --card-foreground: 260 30% 12%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 260 30% 12%;
    
    --primary: 265 89% 60%;
    --primary-foreground: 0 0% 100%;
    --primary-50: 267 100% 97%;
    --primary-100: 268 100% 94%;
    --primary-200: 268 96% 88%;
    --primary-300: 267 95% 81%;
    --primary-400: 267 94% 71%;
    --primary-500: 265 89% 60%;
    --primary-600: 263 85% 50%;
    --primary-700: 263 81% 41%;
    --primary-800: 262 72% 34%;
    --primary-900: 261 63% 30%;
    --primary-950: 260 60% 18%;
    
    --secondary: 210 100% 50%;
    --secondary-foreground: 0 0% 100%;
    --secondary-50: 213 100% 96%;
    --secondary-100: 214 100% 91%;
    --secondary-200: 213 100% 83%;
    --secondary-300: 212 100% 74%;
    --secondary-400: 210 100% 64%;
    --secondary-500: 210 100% 50%;
    --secondary-600: 212 100% 45%;
    --secondary-700: 214 100% 40%;
    --secondary-800: 216 98% 33%;
    --secondary-900: 218 92% 28%;
    --secondary-950: 222 92% 17%;
    
    --accent: 140 84% 56%;
    --accent-foreground: 0 0% 100%;
    --accent-50: 138 76% 97%;
    --accent-100: 140 84% 93%;
    --accent-200: 141 78% 85%;
    --accent-300: 142 77% 73%;
    --accent-400: 142 69% 58%;
    --accent-500: 142 70% 45%;
    --accent-600: 142 76% 36%;
    --accent-700: 143 64% 24%;
    --accent-800: 144 61% 20%;
    --accent-900: 145 65% 16%;
    --accent-950: 146 75% 8%;
    
    --muted: 240 5% 96%;
    --muted-foreground: 240 4% 46%;
    
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 240 6% 90%;
    --input: 240 6% 90%;
    --ring: 265 89% 60%;
  }
  
  .dark {
    /* Dark theme colors */
    --background: 260 30% 8%;
    --foreground: 240 10% 96%;
    
    --card: 260 25% 12%;
    --card-foreground: 240 10% 96%;
    
    --popover: 260 25% 12%;
    --popover-foreground: 240 10% 96%;
    
    --primary: 265 89% 60%;
    --primary-foreground: 0 0% 100%;
    --primary-50: 267 100% 97%;
    --primary-100: 268 100% 94%;
    --primary-200: 268 96% 88%;
    --primary-300: 267 95% 81%;
    --primary-400: 267 94% 71%;
    --primary-500: 265 89% 60%;
    --primary-600: 263 85% 50%;
    --primary-700: 263 81% 41%;
    --primary-800: 262 72% 34%;
    --primary-900: 261 63% 30%;
    --primary-950: 260 60% 18%;
    
    --secondary: 210 100% 50%;
    --secondary-foreground: 0 0% 100%;
    --secondary-50: 213 100% 96%;
    --secondary-100: 214 100% 91%;
    --secondary-200: 213 100% 83%;
    --secondary-300: 212 100% 74%;
    --secondary-400: 210 100% 64%;
    --secondary-500: 210 100% 50%;
    --secondary-600: 212 100% 45%;
    --secondary-700: 214 100% 40%;
    --secondary-800: 216 98% 33%;
    --secondary-900: 218 92% 28%;
    --secondary-950: 222 92% 17%;
    
    --accent: 140 84% 56%;
    --accent-foreground: 0 0% 100%;
    --accent-50: 138 76% 97%;
    --accent-100: 140 84% 93%;
    --accent-200: 141 78% 85%;
    --accent-300: 142 77% 73%;
    --accent-400: 142 69% 58%;
    --accent-500: 142 70% 45%;
    --accent-600: 142 76% 36%;
    --accent-700: 143 64% 24%;
    --accent-800: 144 61% 20%;
    --accent-900: 145 65% 16%;
    --accent-950: 146 75% 8%;
    
    --muted: 260 25% 16%;
    --muted-foreground: 240 5% 65%;
    
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 260 20% 20%;
    --input: 260 20% 20%;
    --ring: 265 89% 60%;
    
    /* Grid pattern color for dark theme */
    --grid-color: rgba(172, 139, 255, 0.1);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    background-image: var(--grid-pattern);
    background-size: 30px 30px;
  }
}

@keyframes dropdown-appear {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 0.7;
    transform: scale(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(1.05);
  }
}

@keyframes gradient-shift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}